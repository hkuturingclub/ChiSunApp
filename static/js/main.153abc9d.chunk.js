(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){e.exports=a(184)},182:function(e,t,a){},184:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(28),c=a.n(l),o=a(38),i=a(210),u=a(29),s=a(101),m=a(12),d=(a(54),"STATUS_REPLACE"),p={loading:!1,info:null,error:null,success:null};var E,g,f=a(47),h=(a(165),a(185),"AIzaSyBP-cJ5pPw0mdFneX5TyxTCjDvq7bucT9w"),v="chi-sun-mobile-app.firebaseapp.com",b="https://chi-sun-mobile-app.firebaseio.com",y="chi-sun-mobile-app.appspot.com",w="370159067229",O="chi-sun-mobile-app",C=!1;"null"!==h&&"null"!==v&&"null"!==b&&"null"!==y&&"null"!==w&&(f.initializeApp({apiKey:h,authDomain:v,databaseURL:b,storageBucket:y,messagingSenderId:w,projectId:O}),C=!0),C&&(E=f.firestore(),g=f.storage());var N=C?f:null,S=C?E:null,j=C?g:null,k="GROUPS_ERROR",R="GROUPS_REPLACE";var D={loading:!0,error:null,groups:[{placeholder:!0,id:0,name:"---- --- -- ------",description:"---- --- -- ------ ---- --- -- ------ ---- --- -- ------ ---- --- -- ------",category:"----",image:"https://firebasestorage.googleapis.com/v0/b/react-native-starter-app.appspot.com/o/image-1.jpg?alt=media&token=9f7c839b-2d40-4660-a2a0-bf6c2f64a2e5",contactName:"---- ----",contactNumber:"-- ---- ----",link:"#"}]};var T=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return"".concat(e()+e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())},_="EVENT_CREATE_RESET",I="EVENT_CREATE_PROCESSING",P="EVENT_CREATE_ERROR",A="EVENT_CREATE_SUCCESS";var x={error:null,processing:!1,createdEventId:""};var L="EVENTS_ERROR",F="EVENTS_REPLACE";var G={loading:!0,error:null,events:[{placeholder:!0,id:0,title:"---- --- -- ------",description:"---- --- -- ------ ---- --- -- ------ ---- --- -- ------ ---- --- -- ------",image:"https://firebasestorage.googleapis.com/v0/b/react-native-starter-app.appspot.com/o/image-1.jpg?alt=media&token=9f7c839b-2d40-4660-a2a0-bf6c2f64a2e5"}]};var B={status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(m.a)({},e,{loading:t.loading||!1,info:t.info||null,error:t.error||null,success:t.success||null});default:return e}},groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(m.a)({},e,{error:t.data});case R:var a=[];return t.data&&"object"===typeof t.data&&(a=t.data.map(function(e){return{id:e.id,name:e.name,description:e.description,category:e.category,image:e.image,contactName:e.contact_name,contactNumber:e.contact_number,link:e.link}})),Object(m.a)({},e,{error:null,loading:!1,groups:a});default:return e}},eventCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(m.a)({},e,{error:null,processing:!1,createdEventId:""});case I:return Object(m.a)({},e,{error:null,processing:!0,createdEventId:""});case P:return Object(m.a)({},e,{error:t.data,processing:!1,createdEventId:""});case A:return Object(m.a)({},e,{error:null,processing:!1,createdEventId:t.data});default:return e}},events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(m.a)({},e,{error:t.data});case F:var a=[];return t.data&&"object"===typeof t.data&&(a=t.data.map(function(e){return{id:e.id,start:e.startDate,title:e.name,description:e.description,location:e.location,image:e.image}})),Object(m.a)({},e,{error:null,loading:!1,events:a});default:return e}}},q=Object(u.c)(B),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,V=Object(u.e)(q,M(Object(u.a)(s.a))),U=a(212),W=a(209),H=a(194),J=a(193),z=a(189),X=a(35),K=a(55),$=a(39),Q=a(36),Y=a(40),Z=a(191),ee=a(192),te=a(190),ae=a(188),ne=a(211),re=a(187),le=function(){return r.a.createElement("div",null,r.a.createElement(re.a,null,r.a.createElement(ae.a,{className:"nav-link ".concat("/"===window.location.pathname&&"active"),to:"/"},r.a.createElement("i",{className:"icon-home"})," ",r.a.createElement("span",null,"Home"))),r.a.createElement(re.a,null,r.a.createElement(ae.a,{className:"nav-link ".concat(window.location.pathname.startsWith("/group")&&"active"),to:"/groups"},r.a.createElement("i",{className:"icon-notebook"})," ",r.a.createElement("span",null,"Groups")),r.a.createElement(ae.a,{className:"nav-link ".concat(window.location.pathname.startsWith("/event/create")&&"active"),to:"/event/create"},r.a.createElement("i",{className:"icon-calendar"})," ",r.a.createElement("span",null,"Create Event"))))},ce=function(){return r.a.createElement("div",null,r.a.createElement(z.a,{sm:"3",md:"2",className:"d-none d-sm-block sidebar"},r.a.createElement(te.a,{vertical:!0},le())))},oe=function(e){function t(e){var a;return Object(X.a)(this,t),(a=Object($.a)(this,Object(Q.a)(t).call(this,e))).toggleDropDown=function(){var e=a.state.isOpen;a.setState({isOpen:!e})},a.state={isOpen:!1},a}return Object(Y.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.state.isOpen;return r.a.createElement("header",null,r.a.createElement(Z.a,{dark:!0,color:"primary",expand:"sm",className:"fixed-top"},r.a.createElement(ae.a,{to:"/",className:"navbar-brand",style:{color:"#FFF"}},"Chi Sun College"),r.a.createElement(ee.a,{isOpen:e,navbar:!0},r.a.createElement(te.a,{className:"ml-auto",navbar:!0},r.a.createElement("div",{className:"d-block d-sm-none"},le())))))}}]),t}(n.Component),ie=Object(ne.a)(oe),ue=function(){return r.a.createElement("footer",{className:"mt-5"},r.a.createElement(J.a,null,r.a.createElement(z.a,{sm:"12",className:"text-right pt-3"},r.a.createElement("p",null,"Developed by"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/hkuturingclub"},"Chi Sun Turing Club"),"."))))},se=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(ie,null),r.a.createElement(H.a,{fluid:!0},r.a.createElement(J.a,null,r.a.createElement(ce,null),r.a.createElement(z.a,{md:"10",sm:"9",className:"px-sm-5 py-sm-5 ml-sm-auto"},t,r.a.createElement(ue,null)))))},me=a(195),de=function(){return r.a.createElement("div",null,r.a.createElement(J.a,null,r.a.createElement(me.a,{className:"bg-primary text-white"},r.a.createElement("h1",null,"Chi Sun College"),r.a.createElement("p",{className:"lead"},"A Community of Freely Enquiring Minds."),r.a.createElement("p",null,"Founded in 2012, Chi Sun College represents the latest commitment from the University to transform and revitalise residential education. Chi Sun bears a clear mission to nurture a community of freely enquiring minds, and tasks itself in providing the most suitable environment for such."))),r.a.createElement(J.a,{className:"pt-5"},r.a.createElement(z.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-map"})," ","College Website"),r.a.createElement("p",null,"The Chi Sun College website has a lot of useful information."),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.chisuncollege.hku.hk/",className:"btn btn-primary"},"College Website")))))},pe=function(e){function t(){var e,a;Object(X.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object($.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=function(){return a.fetchGroups()},a.fetchGroups=function(){var e=a.props,t=e.fetchGroups,n=e.showError;return t().catch(function(e){return console.log("Error: ".concat(e)),n(e)})},a.render=function(){var e=a.props,t=e.Layout,n=e.groups,l=e.match,c=l&&l.params&&l.params.id?l.params.id:null;return r.a.createElement(t,{groupId:c,error:n.error,loading:n.loading,groups:n.groups,reFetch:function(){return a.fetchGroups()}})},a}return Object(Y.a)(t,e),t}(r.a.Component);pe.defaultProps={match:null};var Ee={fetchGroups:function(){return null===N?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(t){return S.collection("groups").get().then(function(a){var n=[];return a.forEach(function(e){n.push(Object(m.a)({id:e.id},e.data()))}),t(e({type:R,data:n}))})}).catch(function(e){return console.log(e)})}},showError:function(e){return function(t){return new Promise(function(a){return a(t({type:k,data:e}))})}}},ge=Object(o.b)(function(e){return{groups:e.groups||{}}},Ee)(pe),fe=a(196),he=a(197),ve=a(198),be=a(199),ye=a(200),we=function(e){var t=e.title,a=e.content;return r.a.createElement(J.a,null,r.a.createElement(z.a,{lg:"4"},r.a.createElement("h2",null,t),r.a.createElement("p",null,a),r.a.createElement("p",null,r.a.createElement(ae.a,{to:"/",className:"btn btn-primary"},"Go Home"))))};we.defaultProps={title:"Uh oh",content:"An unexpected error came up"};var Oe=we,Ce=function(e){var t=e.error,a=e.loading,n=e.groups;if(t)return r.a.createElement(Oe,{content:t});var l=n.map(function(e){return r.a.createElement(fe.a,{key:"".concat(e.id)},r.a.createElement(ae.a,{to:"/group/".concat(e.id)},r.a.createElement(he.a,{top:!0,src:e.image,alt:e.name})),r.a.createElement(ve.a,null,r.a.createElement(be.a,null,e.name),r.a.createElement(ye.a,null,e.description),r.a.createElement(ae.a,{className:"btn btn-primary",to:"/group/".concat(e.id)},"View Group"," ",r.a.createElement("i",{className:"icon-arrow-right"}))))});return r.a.createElement("div",null,r.a.createElement(J.a,null,r.a.createElement(z.a,{sm:"12"},r.a.createElement("h1",null,"Groups"),r.a.createElement("p",null,"From festive parties to sports and from meditation to programming classes, these activities are almost entirely student-run, and exhibit the creativity and livelihood that is quintessential to the Chi Sun style."))),r.a.createElement(J.a,{className:a?"content-loading":""},r.a.createElement(z.a,{sm:"12",className:"card-columns"},l)))};Ce.defaultProps={error:null};var Ne=Ce,Se=a(202),je=a(201),ke=function(){return r.a.createElement(J.a,null,r.a.createElement(z.a,{md:{size:6,offset:3}},r.a.createElement("div",{className:"page-is-loading"},r.a.createElement(je.a,{bar:!0,animated:!0,value:"100"},"Loading"))))},Re=function(e){var t=e.error,a=e.loading,n=e.groups,l=e.groupId;if(a)return r.a.createElement(ke,null);if(t)return r.a.createElement(Oe,{content:t});var c=null;return l&&n&&(c=n.find(function(e){return e.id===l})),c?r.a.createElement("div",null,r.a.createElement(J.a,null,r.a.createElement(z.a,{sm:"12"},r.a.createElement("h1",null,c.name))),r.a.createElement(J.a,null,r.a.createElement(z.a,{lg:"4",className:"group-view-card"},r.a.createElement(fe.a,null,r.a.createElement(Se.a,null,"About this group"),r.a.createElement(ve.a,null,r.a.createElement(ye.a,null,c.description)))),r.a.createElement(z.a,{lg:"4",className:"group-view-card"},r.a.createElement(fe.a,null,r.a.createElement(Se.a,null,"Contact Information"),r.a.createElement(ve.a,null,r.a.createElement(ye.a,null,c.contactName,r.a.createElement("br",null),c.contactNumber))))),r.a.createElement(J.a,{className:"pb-3"},r.a.createElement(z.a,{sm:"12"},r.a.createElement(ae.a,{className:"btn btn-secondary",to:"/groups"},r.a.createElement("i",{className:"icon-arrow-left"})," Back")))):r.a.createElement(Oe,{content:"Group not found"})};Re.defaultProps={error:null};var De=Re,Te=function(e){function t(){var e,a;Object(X.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object($.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){(0,a.props.resetState)()},a}return Object(Y.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Layout,a=e.createEvent,n=e.eventCreate;return r.a.createElement(t,{createEvent:a,processing:n.processing,error:n.error,createdEventId:n.createdEventId})}}]),t}(r.a.Component),_e={resetState:function(){return function(e){return new Promise(function(t){return t(e({type:_}))})}},createEvent:function(e){if(null===N)return function(){return new Promise(function(e){return e()})};var t=j.ref().child("events");return function(a){return new Promise(function(n){a({type:I}),t.child(T()).put(e.image).then(function(e){return e.ref.getDownloadURL()}).then(function(t){S.collection("events").add({name:e.name,description:e.description,location:e.location,startDate:e.startDate,image:t}).then(function(e){n(a({type:A,data:e.id}))}).catch(function(e){a({type:P,data:e.message})})}).catch(function(e){a({type:P,data:e.message})})})}}},Ie=Object(o.b)(function(e){return{eventCreate:e.eventCreate||{}}},_e)(Te),Pe=a(213),Ae=a(109),xe=a(203),Le=a(204),Fe=a(205),Ge=a(206),Be=a(207),qe=a(208),Me=a(110),Ve=(a(180),function(e){var t=e.onSubmit;return r.a.createElement(Ae.a,{initialValues:{name:"",description:"",startDate:new Date,location:"",image:null},validate:function(e){var t={};return e.name||(t.name="Required"),e.description||(t.description="Required"),e.startDate||(t.startDate="Required"),e.location||(t.location="Required"),e.image||(t.image="Required"),t},onSubmit:function(e,a){var n=a.setSubmitting;t({name:e.name,description:e.description,location:e.location,startDate:e.startDate.toISOString(),image:e.image}),n(!1)}},function(e){var t=e.values,a=e.errors,n=e.touched,l=e.handleChange,c=e.handleBlur,o=e.handleSubmit,i=e.isSubmitting,u=e.setFieldValue;return r.a.createElement(xe.a,{onSubmit:o},r.a.createElement(Le.a,null,r.a.createElement(Fe.a,{for:"name"},"Event Name"),r.a.createElement(Ge.a,{type:"text",id:"name",placeholder:"Bite of Hong Kong",onChange:l,onBlur:c,value:t.name}),a.name&&n.name&&r.a.createElement(Be.a,{color:"danger"},a.name)),r.a.createElement(Le.a,null,r.a.createElement(Fe.a,{for:"description"},"Description"),r.a.createElement(Ge.a,{type:"textarea",id:"description",placeholder:"This time, we are going to have the vibrant and savory Indonesian cuisines. Let\u2019s give your taste buds a delightful kick with tasty meat skewers bathed in flavorful peanut sauce (Satay), or the famous Javanese smashed fried chicken dish, served with spicy sambal (Ayam penyet). For drink?  how about the rich and creamy combination of coconut milk, palm sugar and jelly-like green noodles (Cendol)?",onChange:l,onBlur:c,value:t.description,rows:10}),a.description&&n.description&&r.a.createElement(Be.a,{color:"danger"},a.description)),r.a.createElement(J.a,null,r.a.createElement(z.a,null,r.a.createElement(Le.a,null,r.a.createElement(Fe.a,{for:"location"},"Location"),r.a.createElement(Ge.a,{type:"text",id:"location",placeholder:"Meet at 4/F Chi Sun Lobby",onChange:l,onBlur:c,value:t.location}),a.location&&n.location&&r.a.createElement(Be.a,{color:"danger"},a.location))),r.a.createElement(z.a,null,r.a.createElement(Le.a,null,r.a.createElement(Fe.a,{for:"startTime"},"Start Time"),r.a.createElement("br",null),r.a.createElement(Me.a,{selected:t.startDate,onChange:function(e){u("startDate",e)},onChangeRaw:function(e){e.preventDefault()},showTimeSelect:!0,dateFormat:"MMM d, yyyy h:mm aa",timeFormat:"HH:mm",timeIntervals:15,timeCaption:"Time",className:"form-control"}),a.startDate&&n.startDate&&r.a.createElement(Be.a,{color:"danger"},a.startDate)))),r.a.createElement(Le.a,null,r.a.createElement(Fe.a,{for:"image"},"Image"),r.a.createElement(Ge.a,{type:"file",id:"image",accept:"image/*",onChange:function(e){u("image",e.target.files[0])},onBlur:c}),a.image&&n.image&&r.a.createElement(Be.a,{color:"danger"},a.image)),r.a.createElement(qe.a,{type:"submit",disabled:i},"Create"))})}),Ue=function(e){var t=e.createEvent,a=e.processing,n=e.error,l=e.createdEventId;return r.a.createElement("div",null,r.a.createElement("h1",null,"Create Event"),a&&r.a.createElement(je.a,{animated:!0,color:"success",value:50}),l&&r.a.createElement(Pe.a,{color:"success"},"The event has been successfully created with id ".concat(l,".")),n&&r.a.createElement(Pe.a,{color:"danger"},n),!a&&r.a.createElement(Ve,{onSubmit:t}))},We=function(){return r.a.createElement(U.a,null,r.a.createElement(W.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(se,null,r.a.createElement(de,e))}}),r.a.createElement(W.a,{path:"/event/create",render:function(e){return r.a.createElement(se,null,r.a.createElement(Ie,Object.assign({},e,{Layout:Ue})))}}),r.a.createElement(W.a,{path:"/groups",render:function(e){return r.a.createElement(se,null,r.a.createElement(ge,Object.assign({},e,{Layout:Ne})))}}),r.a.createElement(W.a,{path:"/group/:id",render:function(e){return r.a.createElement(se,null,r.a.createElement(ge,Object.assign({},e,{Layout:De})))}}),r.a.createElement(W.a,{render:function(e){return r.a.createElement(se,null,r.a.createElement(Oe,Object.assign({},e,{title:"404",content:"Sorry, the route you requested does not exist"})))}}))},He=(a(182),function(){return r.a.createElement(o.a,{store:V},r.a.createElement(i.a,{basename:"".concat("/ChiSunApp","/")},r.a.createElement(We,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(He,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[111,2,1]]]);
//# sourceMappingURL=main.153abc9d.chunk.js.map